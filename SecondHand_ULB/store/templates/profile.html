{% extends 'base.html' %}

{% block content %}

{% load custom_filter %}

<style>
    .user-img {
        height: 20vh;
        width: auto;
        border-radius: 50%;
        overflow: hidden;
    }

    .rating-color{
        color:gold !important;
        cursor: pointer;
    }

    .profile-block {
        -webkit-box-shadow: 0px 0px 6px 0 rgba(0, 0, 0, 0.1);
        box-shadow: 0px 0px 6px 0 rgba(0, 0, 0, 0.1)
    }

    .button {
        color: #fafafa;
        text-decoration: none;
        margin-top: 1rem;
        font-family: 'Roboto', sans-serif;
        font-weight: 400;
        font-size: 1.2rem;
        border-radius: 5px;
        width: 110px;
        height: 40px;
        display: flex; /* Add this */
        align-items: center; /* Add this */
        justify-content: center; /* Add this */
        -webkit-box-shadow: 0px 1px 2px 0 rgba(0, 0, 0, 0.1);
        box-shadow: 0px 1px 2px 0 rgba(0, 0, 0, 0.1)
    }

    .btn-modify {
        background-color: #DD2C00;
    }

    .btn-modify:hover {
        color: #EEE;
        background-color: #BF360C;
    }

    .btn-achats {
        background-color: #00C853;
    }

    .btn-achats:hover {
        color: #EEE;
        background-color: #388E3C;
    }

    .btn-ventes {
        background-color: #00BFA5;
    }

    .btn-ventes:hover {
        color: #EEE;
        background-color: #4caf50;
    }

    .btn-message {
        background-color: #0091EA;
    }

    .btn-message:hover {
        color: #EEE;
        background-color: #0288D1;
    }

</style>

<div class="container">
  <div class="page-content page-container" id="page-content">
    <div class="padding">
        <div class="row container d-flex justify-content-center mt-5">
          <div class="col-xl-7 col-md-14">
            <div class="user-card-full">
                <div class="profile-block row m-l-0 m-r-0 pt-4 pb-3" style="padding-left: 1rem;padding-right: 1rem; height: 35vh;">
                    <div class="col-sm-4 bg-c-lite-green user-profile">
                        <div class="card-block text-center text-black">
                            <div style="margin-bottom: 3vh;">
                                <img src="{{user.id|user_img}}" class="user-img" alt="User-Profile-Image">
                            </div>
                            <div class="ratings mt-2">
                                {% for _ in "12345" %}
                                    {% if forloop.counter <= rating.user_rating %}
                                        <i class="fa fa-star rating-color"></i>
                                    {% else %} 
                                        <i class="fa fa-star"></i>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <span class="review-count" style="margin-left: 0.4rem;">{{rating.sell_count}} Ventes</span>
                        </div>
                    </div>
                    <div class="col-sm-8">
                        <div class="card-block">
                            <h3 class="f-w-600" style="font-size: 4vh;">{{ user.first_name }} {{ user.last_name }}</h6>
                            <h4 class="f-w-300" style="font-size: 2vh;color: darkgray;">{{ user.faculty }}</h4>
                            <div class="col-sm-20 mt-3" style="height: 12vh;">
                                <h5 class="font-weight-normal f-w-600" style="font-size: 2vh;color: #000000dd;">{{ user.description }}</h6>
                            </div>
                            <div class="mt-2" style="width: 100%; display: flex; justify-content: space-between;">
                                {% if same_user %}
                                    <a href="/modify_user" class="button btn-modify">Modifier</a>
                                    <a href="/my_products" class="button btn-modify">Mes articles</a>
                                    <a href="/orders" class="button btn-achats">Mes achats</a>
                                    <a href="/sales" class="button btn-ventes">Mes ventes</a>
                                {% else %}
                                    <a href="/message/{{ user.id }}" class="button btn-message">Message</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}